<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Tragaperras Manual Total</title>
<style>
body {
    background: black;
    color: lime;
    font-family: monospace;
    text-align: center;
}
button, input {
    font-size: 18px;
    padding: 8px;
    margin: 6px;
}
</style>
</head>
<body>

<h1>ğŸ° TRAGAPERRAS MANUAL ğŸ°</h1>

<p>Dinero: $<span id="money">100</span></p>
<p>Multiplicador: x<span id="mult">1</span></p>
<p>Crash: <span id="risk">2</span>% (quita la mitad)</p>

<input type="number" id="bet" placeholder="CuÃ¡nto apostar" min="1">
<br>

<button onclick="spin()">ğŸ² TIRAR</button>
<br><br>

<button onclick="buyMult()">Comprar x2 Mult ($100)</button>

<p id="log">Esperando tu jugadaâ€¦</p>

<script>
let money = 100;
let mult = 1;
let crashChance = 2; // %

function spin() {
    const betInput = document.getElementById("bet");
    const bet = Number(betInput.value);

    if (betInput.value === "") {
        log("âŒ TenÃ©s que escribir cuÃ¡nto apostar");
        return;
    }

    if (bet <= 0) {
        log("âŒ La apuesta debe ser mayor a 0");
        return;
    }

    if (bet > money) {
        log("âŒ No tenÃ©s suficiente dinero");
        return;
    }

    const roll = Math.random() * 100;

    // CRASH (pierde la mitad del dinero TOTAL)
    if (roll < crashChance) {
        const lost = Math.floor(money / 2);
        money -= lost;
        log("ğŸ’£ CRASH â€” perdiste $" + lost);
    }
    // GANAR
    else if (roll < 65) {
        const win = bet * mult;
        money += win;
        log("ğŸ’° Ganaste $" + win);
    }
    // PERDER
    else {
        money -= bet;
        log("âŒ Perdiste $" + bet);
    }

    updateUI();
}

function buyMult() {
    if (money < 100) {
        log("âŒ No tenÃ©s suficiente dinero");
        return;
    }

    money -= 100;
    mult *= 2;
    crashChance += 0.3;

    log("âœ–ï¸ Multiplicador mejorado a x" + mult);
    updateUI();
}

function updateUI() {
    document.getElementById("money").innerText = money;
    document.getElementById("mult").innerText = mult;
    document.getElementById("risk").innerText = crashChance.toFixed(1);
}

function log(text) {
    document.getElementById("log").innerText = text;
}
</script>

</body>
</html>
